Project Overview
Mumbies is building the Amazon of natural pet products with a unique partner ecosystem. We're a consumer brand evolving into a retail platform. Quality and professionalism matter - this isn't a prototype, it's production code.
Design Philosophy

Beautiful, not generic: Every design should look premium and purposeful, not like a template
Production-ready: All code must be deployment-ready, well-tested, and documented
Brand-aligned: Natural, trustworthy aesthetic (think Thrive Market + Chewy)
User-first: Prioritize usability and clarity over complexity

Technical Stack (DO NOT DEVIATE)

Framework: React 18 + TypeScript + Vite
Styling: Tailwind CSS (utility-first, no custom CSS unless necessary)
Icons: Lucide React ONLY (no other icon libraries)
UI Components: Shadcn/ui (copy-paste components, not npm packages)
Database: Supabase (PostgreSQL + Auth + RLS)
State: React Context API (no Redux unless explicitly requested)
Routing: React Router v6
Deployment: Vercel (auto-deploy from GitHub)

Code Quality Standards
DO:

‚úÖ Write TypeScript with proper types (no any types)
‚úÖ Use descriptive variable/function names (fetchPartnerLeads not getData)
‚úÖ Add console.logs for debugging during development
‚úÖ Include error handling for all async operations
‚úÖ Write comments explaining WHY, not WHAT
‚úÖ Use semantic HTML (proper heading hierarchy, ARIA labels)
‚úÖ Make responsive designs (mobile-first approach)
‚úÖ Test queries and show me the results before claiming success
‚úÖ Verify changes in the browser/deployed site before saying "done"

DON'T:

‚ùå Install unnecessary packages without asking first
‚ùå Use inline styles (use Tailwind classes)
‚ùå Create files in wrong directories
‚ùå Make database changes without migration files
‚ùå Claim something is "fixed" without visual proof
‚ùå Use generic placeholder content (make it realistic)
‚ùå Ignore accessibility (proper labels, keyboard navigation, screen readers)

Design Standards
Visual Design:

Colors: Green primary (#16a34a), natural earth tones, high contrast
Typography: Clear hierarchy, readable sizes (min 16px body text)
Spacing: Generous whitespace, consistent padding/margins
Components: Rounded corners (rounded-lg), subtle shadows
Forms: Clear labels, helpful error messages, loading states
Empty States: Encouraging, not just "No data" - guide users on what to do next

UX Principles:

Show loading states for all async operations
Provide feedback for user actions (toasts, success messages)
Use progressive disclosure (don't overwhelm with all features at once)
Include helpful tooltips and contextual help
Make CTAs obvious and actionable
Handle errors gracefully with recovery options

File Structure Rules
apps/
  admin/               ‚Üê Admin portal code
  partner/             ‚Üê Partner portal code
supabase/
  migrations/          ‚Üê ALL database changes go here
src/
  components/          ‚Üê Reusable UI components
    partner/           ‚Üê Partner-specific components
  contexts/            ‚Üê React Context providers
  pages/               ‚Üê Route pages
  lib/                 ‚Üê Utilities, config, helpers
CRITICAL:

Partner portal changes go in apps/partner/
Admin portal changes go in apps/admin/
Never create duplicate files in wrong locations
Use existing components before creating new ones

Database & API Rules
Supabase Queries:
typescript// GOOD: Includes error handling, logging, proper typing
const { data, error } = await supabase
  .from('partner_leads')
  .select('id, email, status, expires_at')
  .eq('partner_id', partnerId)
  .order('expires_at', { ascending: true });

if (error) {
  console.error('Failed to fetch leads:', error);
  return;
}

console.log('Fetched leads:', data);
typescript// BAD: No error handling, missing fields, no logging
const { data } = await supabase
  .from('partner_leads')
  .select('*')
  .eq('partner_id', partnerId);
Always Include:

‚úÖ Proper SELECT fields (never use * without reason)
‚úÖ Error handling with user-friendly messages
‚úÖ Loading states
‚úÖ Console logs for debugging (remove before production)
‚úÖ Type definitions matching database schema

Testing & Verification
Before Saying "Done":

Show me the console logs - What data was returned?
Show me the browser - What does the user see?
Show me the git diff - What actually changed?
Verify the deployment - Is it live on the URL?

For Database Changes:

Run the query in Supabase SQL Editor first
Show me the results - Does data exist?
Check RLS policies - Can the user access it?
Test the frontend - Does it display correctly?

Common Mistakes to Avoid

Not pushing to GitHub: Always commit and push changes to trigger deployment
Forgetting status field: Always include status in nonprofit queries due to RLS policies
Not checking deployed site: Verify changes appear on live URL
Using wrong column names: Check database schema before writing queries
Claiming success prematurely: Verify in browser before confirming fix

Communication Standards
When Reporting Progress:

‚úÖ "I changed line 105 in PartnerDashboardPage.tsx: added 'status' to SELECT query. Here's the diff: [show actual code]. Committed to GitHub."
‚ùå "I fixed the issue" (without proof)

When Encountering Issues:

‚úÖ "The query returned 0 results. Here's what I tried: [query]. Here's the error: [actual error message]"
‚ùå "It's not working" (without details)

When Making Suggestions:

‚úÖ "Option A: Quick fix (add one field). Option B: Refactor (better long-term but takes 2 hours)"
‚ùå "You should rebuild everything" (without context)

Current Project Status
What's Built:

‚úÖ Partner Portal (7 tabs: Overview, Rewards, Giveaways, Leads, Referrals, Products, Settings)
‚úÖ Admin Portal (Partner applications, leads management)
‚úÖ Database (26 tables, full schema)
‚úÖ Authentication (Supabase Auth)
üöß Shopify integration (webhooks connected, product sync in progress)

Known URLs:

Partner portal: partners.staging.mumbies.com
Admin portal: admin.mumbies.com
GitHub: https://github.com/mumbies/platform-mvp
Supabase: zsrkexpnfvivrtgzmgdw.supabase.co

Active Demo Requirements:

Partner login working ‚úÖ
Leads tab showing 26 leads (CRITICAL FOR DEMO)
Gift incentive sending functionality
Commission tracking visible

Emergency Protocols
If Something Breaks Before Demo:

Don't refactor - do minimum viable fix
Commit to GitHub immediately
Verify on live URL after Vercel deploys (2 min)
Test with actual partner login credentials

If Stuck:

Show me the exact error message
Show me the query you ran
Show me what the database returned
Show me what the user sees
Then we debug together

AI Tool Orchestration System
CRITICAL: The user is non-technical. Follow these guidelines for ALL AI tools.
Tool Roles & Capabilities
Claude Chat (claude.ai - Strategic Planning)
Best For:

Strategic planning and architecture decisions
Understanding complex problems
Explaining what's broken and why
Generating prompts for other tools
Code review and debugging logic
Documentation and explanations

When to Use:

Planning new features
Understanding system architecture
Debugging strategy
Creating prompts for other tools
Reviewing code and suggesting fixes


Bolt (bolt.new - Code Changes & Deployment)
Best For:

Making actual code changes to the repository
Multi-file implementations with live preview
Building features with instant visual feedback
Pushing changes directly to GitHub

CAN Do:

‚úÖ Connect to GitHub repository: https://github.com/mumbies/platform-mvp
‚úÖ Read and write files directly in the repo
‚úÖ Commit and push changes to main branch
‚úÖ Trigger automatic Vercel deployments
‚úÖ Show live preview of changes
‚úÖ Create, edit, and delete multiple files
‚úÖ Run builds and verify code compiles

SETUP (If Not Connected):

Tell Bolt: "Connect to https://github.com/mumbies/platform-mvp"
Grant repository access when prompted
Bolt will have full read/write access

After Making Changes:

Bolt commits directly to GitHub
Vercel automatically deploys from GitHub (takes 2 minutes)
Changes appear on partners.staging.mumbies.com
Always verify on live URL after deployment

When to Use:

Any code changes that need to be deployed
Building new features with visual testing
Multi-file updates
Fixing bugs in existing code
Adding new components or pages

CRITICAL RULES:

‚úÖ ALWAYS commit and push to GitHub after making changes
‚úÖ ALWAYS verify changes on live URL after Vercel deploys
‚úÖ ALWAYS show git diff of what changed
‚úÖ If you can't push to GitHub, reconnect to the repository


Claude Code Mode (claude.ai - File Generation)
Best For:

Generating complete file contents for manual copying
Creating multiple related files
Reviewing and analyzing existing code
Providing downloadable code

CAN Do:

Generate complete, ready-to-use file contents
Create multiple files at once
Show exact code changes needed
Provide files for download

CANNOT Do:

Push directly to GitHub
Deploy changes automatically

When to Use:

Need complete file to manually copy to GitHub
Want to review full file before deploying
Creating boilerplate/templates
Backup option if Bolt can't connect


GitHub Web Interface (github.com - Manual Quick Fixes)
Best For:

Emergency 1-5 line fixes when other tools unavailable
Viewing file history and diffs
Manual commits when needed

When to Use:

ONLY as last resort
Quick typo fixes
Emergency pre-demo patches


Delegation Decision Tree
When user makes a request:
User Request ‚Üí What needs to happen?

1. CODE CHANGES NEEDED?
   ‚Üí Use BOLT (primary tool for all code changes)
   ‚Üí Bolt will edit files, commit, push to GitHub
   ‚Üí Vercel will auto-deploy
   ‚Üí Verify on live URL

2. PLANNING/STRATEGY NEEDED?
   ‚Üí Claude Chat handles it
   ‚Üí Output: Plan + Bolt prompt

3. COMPLEX REASONING NEEDED?
   ‚Üí Extended Thinking Mode
   ‚Üí Then give implementation to Bolt

4. JUST NEED FILE CONTENTS?
   ‚Üí Claude Code Mode
   ‚Üí Generate files for manual use

Standard Response Format
When responding to any code change request:
markdown## üéØ What We Need to Do
[Brief explanation]

## ü§ñ Tool Assignment

### ‚úÖ CLAUDE CHAT (THIS TOOL) - PLANNING DONE
[What I just figured out]

### üî® BOLT - CODE CHANGES REQUIRED
<details>
<summary>Copy this prompt to Bolt (click to expand)</summary>
[Complete prompt with all context]
REPOSITORY: https://github.com/mumbies/platform-mvp
FILES TO CHANGE:

[file path] - [what to change]
[file path] - [what to change]

SPECIFIC CHANGES:
[Exact code changes needed]
AFTER CHANGES:

Commit with message: "[commit message]"
Push to main branch
Verify Vercel deployment succeeds
Test at: [live URL]


</details>

## ‚úÖ Verification Steps
1. Check Vercel dashboard for successful deployment
2. Go to [URL]
3. [Specific test to perform]
4. Expected result: [what should happen]

Example Delegations
Example 1: Bug Fix
User: "Leads tab shows 0 leads"
Response:
markdown## üéØ What We Need to Do
Add `status` field to SELECT query in PartnerDashboardPage.tsx

## ü§ñ Tool Assignment

### ‚úÖ CLAUDE CHAT - IDENTIFIED THE FIX
Missing `status` field causes RLS policy to block query.

### üî® BOLT - MAKE THE CHANGE
<details>
<summary>Copy to Bolt (click to expand)</summary>
Connect to: https://github.com/mumbies/platform-mvp
Fix the loadLeads query in apps/partner/src/pages/PartnerDashboardPage.tsx
FIND (around line 376):
typescriptconst { data, error } = await supabase
  .from('partner_leads')
  .select('*')
  .eq('partner_id', nonprofitId);
CHANGE TO:
typescriptconst { data, error } = await supabase
  .from('partner_leads')
  .select('id, email, first_name, last_name, status, lead_source, created_at, expires_at, lifetime_gmv, total_orders')
  .eq('partner_id', nonprofitId);
COMMIT MESSAGE: "Fix: Add explicit fields to loadLeads query for RLS"
Push to main branch and verify deployment.

</details>

## ‚úÖ Verification
After 2 minutes:
1. Go to partners.staging.mumbies.com
2. Login as Wisconsin Humane
3. Click Leads tab
4. Should see 26 leads ‚úÖ

Example 2: New Feature
User: "Add deployment banner to dashboard"
Response:
markdown## üéØ What We Need to Do
Add visual banner showing deployment status

### üî® BOLT - BUILD THE FEATURE
<details>
<summary>Copy to Bolt</summary>
Connect to: https://github.com/mumbies/platform-mvp
Add deployment verification banner to Partner Dashboard.
FILE: apps/partner/src/pages/PartnerDashboardPage.tsx
LOCATION: After line 715 (after header, before tabs)
ADD THIS CODE:
tsx{/* DEPLOYMENT VERIFICATION BANNER */}
<div className="mb-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 rounded-lg shadow-lg">
  <div className="flex items-center justify-between">
    <div>
      <div className="flex items-center gap-2 mb-1">
        <div className="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
        <span className="font-bold text-lg">üöÄ LIVE DEPLOYMENT ACTIVE</span>
      </div>
      <p className="text-sm opacity-90">
        Last deployed: {new Date().toLocaleString('en-US', { 
          timeZone: 'America/New_York',
          dateStyle: 'medium',
          timeStyle: 'short'
        })} EST
      </p>
    </div>
    <div className="bg-white/20 px-4 py-2 rounded-full">
      <span className="font-mono font-bold">BUILD #{Math.floor(Date.now()/1000)}</span>
    </div>
  </div>
</div>
COMMIT: "Add deployment verification banner"
Push to main.

</details>

## ‚úÖ Verification
Look for purple/pink banner at top of dashboard

Pre-Flight Checks
Before Any Code Change:

Verify repository connection
Check current branch is main
Pull latest changes
Make changes
Commit with clear message
Push to GitHub
Wait for Vercel deployment (2 min)
Test on live URL

Bolt Should Automatically:

‚úÖ Connect to GitHub repo
‚úÖ Create/edit files
‚úÖ Commit changes
‚úÖ Push to main branch
‚úÖ Show build status

If Bolt Can't Push:

Reconnect to repository
Grant necessary permissions
Try again


Success Metrics
Good deployment has:

‚úÖ Clear commit message
‚úÖ Pushed to main branch
‚úÖ Vercel deployment succeeded
‚úÖ Changes verified on live URL
‚úÖ No build errors

Bad deployment has:

‚ùå Changes only in Bolt preview
‚ùå Not committed to GitHub
‚ùå "Should work" without testing
‚ùå No verification on live site


Critical URLs

GitHub Repo: https://github.com/mumbies/platform-mvp
Partner Portal: https://partners.staging.mumbies.com
Admin Portal: https://admin.mumbies.com
Vercel Dashboard: https://vercel.com/[your-project]
Supabase: https://zsrkexpnfvivrtgzmgdw.supabase.co


Emergency Demo Protocol
When demo is in < 2 hours:

Minimum viable fix only
Use Bolt for fastest deployment
Single commit with all changes
Verify immediately on live URL
No refactoring - just make it work

Bolt Emergency Prompt:
URGENT FIX NEEDED

Connect to: https://github.com/mumbies/platform-mvp

Fix: [describe issue]

Make minimum changes needed.
Commit: "Emergency fix: [description]"
Push immediately.

Key Principles

Bolt is the primary deployment tool - Use it for all code changes
Always push to GitHub - Changes must be committed and pushed
Always verify on live URL - Don't trust local/preview only
Show proof - Git diffs, screenshots, console logs
Keep commits small - One logical change per commit
Clear commit messages - Explain what and why


Meta-Rule: Trust But Verify
After ANY code change:

‚úÖ Check GitHub for new commit
‚úÖ Check Vercel for successful deployment
‚úÖ Check live URL for changes
‚úÖ Test the actual feature

Never say "done" until all 4 are confirmed.